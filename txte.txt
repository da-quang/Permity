CREATE TABLE public."Auftrag" (
    "ID" integer NOT NULL,
    "KSV" character varying(50) NOT NULL,
    "AUFTRAGGEBER" character varying(50) NOT NULL,
    "AUFTRAGNEHMER" character varying(50) NOT NULL,
    "SPERREN" character varying,
    "KOMMENTAR" character varying(255),
    "VON" timestamp without time zone,
    "BIS" timestamp without time zone,
    "STATUS" character varying(50),
    "AUFTRAGGEBER_UNTERSCHRIFT" text,
    "AUFTRAGNEHMER_UNTERSCHRIFT" text
);

ALTER TABLE public."Auftrag" ALTER COLUMN "ID" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Auftrag_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 999999
    CACHE 1
);

CREATE TABLE public."Betriebsbereich" (
    "ID" integer NOT NULL,
    "TECHNISCHER_PLATZ" character varying(50) NOT NULL,
    "BEZEICHNUNG" character varying(50) NOT NULL,
    "BETRIEBSBEREICH" character varying(50),
    "SAP_BETRIEBSBEREICH" character varying(50),
    "ROWID" character varying(50) NOT NULL
);

CREATE TABLE public."KSV_Struktur" (
    "ID" integer NOT NULL,
    "KSV" character varying(50) NOT NULL,
    "BEZEICHNUNG" character varying(50),
    "EBENE" integer,
    "ROWID" character varying(50)
);


CREATE TABLE public."Mitarbeiter" (
    "ID" integer NOT NULL,
    "KURZZEICHEN" character varying(20) NOT NULL,
    "NAME" character varying(40) NOT NULL,
    "PERSONALNR" character varying(20),
    "ABTEILUNG" character varying(15) NOT NULL,
    "TEAM" character varying(15),
    "BEREICH" character varying(10) NOT NULL,
    "TIMESTAMP" character varying,
    "MANUELL" character varying,
    "STAMMARBEITSPLATZ" character varying(20),
    "ROT" character varying,
    "GRÜN" character varying,
    "BLAU" character varying,
    "H" character varying,
    "S" character varying,
    "B" character varying,
    "SÄTTIGUNG" character varying,
    "REIHENFOLGE" character varying,
    "TELEFON" character varying,
    "LEIT" character varying,
    "AKTIV" character varying,
    "LEHR_VERANT" character varying,
    "AUFGABE_1" character varying,
    "AUFGABE_2" character varying,
    "AUFGABE_3" character varying,
    "EMAIL" character varying
);

CREATE TABLE public."Teamzuordnung" (
    "ID" integer NOT NULL,
    "EBENE" integer NOT NULL,
    "KKS_STANDORT" character varying(20) NOT NULL,
    "GESELLSCHAFT" character varying(10) NOT NULL,
    "KKS_STANDORT_1" character varying(5),
    "BEZEICHNUNG" character varying(40),
    "TEAM_KURZ" character varying(10) NOT NULL,
    "TEAM_BEZEICHNUNG" character varying(40) NOT NULL,
    "VERANTWORTLICH" character varying(5) NOT NULL,
    "TIMESTAMP" character varying,
    "BEREICH" character varying(10) NOT NULL,
    "BETRIEB" character varying(15),
    "BEDARFSTRÄGER" character varying(5),
    "ROWID" character varying(20) NOT NULL
);

COPY "Betriebsbereich"
FROM '/Betriebsbereich.csv'
DELIMITER ';'
CSV HEADER encoding 'windows-1250';

COPY "KSV_Struktur"
FROM '/KSV_Struktur.csv'
DELIMITER ';'
CSV HEADER encoding 'windows-1250';

COPY "Mitarbeiter"
FROM '/Mitarbeiter.csv'
DELIMITER ';'
CSV HEADER encoding 'windows-1250';

COPY "Teamzuordnung"
FROM '/Teamzuordnung.csv'
DELIMITER ';'
CSV HEADER encoding 'windows-1250';

docker cp C:/Users/daqua/OneDrive/Desktop/Permity/csv_files/Betriebsbereich.csv postgresql_container:"Betriebsbereich.csv"
docker cp C:/Users/daqua/OneDrive/Desktop/Permity/csv_files/KSV_Struktur.csv postgresql_container:"KSV_Struktur.csv"
docker cp C:/Users/daqua/OneDrive/Desktop/Permity/csv_files/Mitarbeiter.csv postgresql_container:"Mitarbeiter.csv"
docker cp C:/Users/daqua/OneDrive/Desktop/Permity/csv_files/Teamzuordnung.csv postgresql_container:"Teamzuordnung.csv"


docker exec -t postgresql_container pg_dumpall -c -U postgres > D:Permity/backup/dump.sql

  nginx:
    image: arm32v6/nginx:alpine
    container_name: nginx
    restart: unless-stopped
    ports:
      - "80:80"
    volumes:
       - ./nginx/nginx.conf:/etc/nginx/nginx.conf
    networks:
      example-network:
        ipv4_address: 172.16.238.15